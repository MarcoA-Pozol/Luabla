{% extends 'layouts/welcome_base.html' %}

{% block content %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/home.css' %}">

    <div class="hero-section">
        <h1>Welcome to <span class="highlight-text">Luabla</span></h1>
        <p>Your gateway to mastering languages with fun, engaging, and personalized learning tools!</p>
        <a href={% url 'login' %}><button class="explore-btn">Explore Now</button></a>
    </div>

    <div class="hero-container">
        <div>
            <h3>Master your bilingual skills!</h3>
            <p>Learn solid and faster, enjoy and acquire new language, in only one place at every time. Join to our big community with learners from all around the world!</p>
        </div>

        <!-- Background Images -->
        <img src="{% static 'images/panda-1.png' %}" alt="Background Image 2" class="hero-bg-image image1">
    </div> <!-- Corrected closing div -->

    <div class="features-container">
        <h3>Luabla offer many possibilities!</h3>
        <ul>
            <li>
                <div>
                    <h4>1000+ Words</h4>
                    <p>Discover over different decks with many cards for your interest topics and study them. You can create your own decks and cards to study them later, or add what Luabla provides to you for free!</p>
                </div>
            </li>
            <li>
                <div>
                    <h4>Choose a Language</h4>
                    <p>We offer many languages to you, choose one that fits your needs and boost your bilingual skills. Nothing can stop you!</p>
                </div>
            </li>
            <li>
                <div>
                    <h4>Community</h4>
                    <p>Meet new people, get friends, teach them and learn for them. We have a strongly community that want to learn your native language!</p>
                </div>
            </li>
            <li>
                <div>
                    <h4>AI Assistant</h4>
                    <p>Yaoli is your new assistant for Languages learning. Feed them and receive a lot of help to improve as the time you care of Yaoli!</p>
                </div>
            </li>
        </ul>
    </div>

    <div class="gallery-container">
        <div>
            <h4>Take a look over Luabla</h4>
            <p id="description-text"></p>
            <ul class="images-gallery-menu">
                <li><img src="{% static 'images/screenshot_1.png' %}" alt="Image 1" class="images-gallery-selection sc-1"></li>
                <li><img src="{% static 'images/background-image-2.png' %}" alt="Image 2" class="images-gallery-selection sc-2"></li>
                <li><img src="{% static 'images/background-image-1.png' %}" alt="Image 3" class="images-gallery-selection sc-3"></li>
                <li><img src="{% static 'images/background-image-2.png' %}" alt="Image 4" class="images-gallery-selection sc-4"></li>
            </ul>
            <div id="screenshot-description">
                <!--Screenshot description will be placed here when user get mouse over the corresponding image-->
                Discover what Luabla can offer to you
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function(){
            var descriptionText = "Many features are waiting for you, discover the easier and enjoyable way to acquire a new foreign language. Just in one place, learn, share and enjoy!";
            var typedElement = $('#description-text');
            var typingSpeed = 40;
            var scrollTriggered = false; 

            function typeText(text, element, speed) {
                var index = 0;
                var interval = setInterval(function() {
                    if (index < text.length) {
                        element.append(text.charAt(index));
                        index++;
                    } else {
                        clearInterval(interval);
                    }
                }, speed);
            }

            $(window).on('scroll', function() {
                var scrollPosition = $(window).scrollTop();
                var elementOffset = typedElement.offset().top - $(window).height() + 200;
                if (scrollPosition > elementOffset && !scrollTriggered) {
                    scrollTriggered = true;
                    typeText(descriptionText, typedElement, typingSpeed);
                }
            });

            $(".images-gallery-selection.sc-1").hover(function(){
                $("#screenshot-description").text("Choose over +6 languages.");
            });

            $(".images-gallery-selection.sc-2").hover(function(){
                $("#screenshot-description").text("Learn with ease and master any language.");
            });

            $(".images-gallery-selection.sc-3").hover(function(){
                $("#screenshot-description").text("Friendly chat to send and get decks, meet new people and chat with them.");
            });

            $(".images-gallery-selection.sc-4").hover(function(){
                $("#screenshot-description").text("Learn for many topics like travels, work, food, family, and more!");
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            // Button hover effect
            const exploreBtn = document.querySelector('.explore-btn');
            exploreBtn.addEventListener('mouseenter', () => {
                exploreBtn.style.transform = "translateY(-5px)";
                exploreBtn.style.backgroundColor = "#FF5C5C";
            });
            exploreBtn.addEventListener('mouseleave', () => {
                exploreBtn.style.transform = "translateY(0)";
                exploreBtn.style.backgroundColor = "#FF7F50";
            });

            // Scroll-triggered animation for features
            const featureItems = document.querySelectorAll('.feature');
            window.addEventListener('scroll', () => {
                const scrollPos = window.scrollY;
                featureItems.forEach((item, index) => {
                    const itemOffset = item.offsetTop - window.innerHeight + 150;
                    if (scrollPos > itemOffset) {
                        setTimeout(() => {
                            item.style.opacity = 1;
                            item.style.transform = "scale(1)";
                        }, index * 200); // 200ms delay between each feature
                    }
                });
            });
        });
    </script>

{% endblock %}
